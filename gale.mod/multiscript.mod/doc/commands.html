<html><head><title> reference</title>
<link rel=stylesheet Type=text/css href='../../../../doc/bmxstyle.css'>
</head><body>
<table width=100% cellspacing=0><tr align=center><td class=small>&nbsp;</td>
<td class=small width=1%><b>GALE.MultiScript:</b></td>
<td class=small width=1%><a href=#globals class=small>Globals</a></td>
<td class=small width=1%><a href=#functions class=small>Functions</a></td>
<td class=small width=1%><a href=#types class=small>Types</a></td>
<td class=small width=1%><a href=#modinfo class=small>Modinfo</a></td>
<td class=small width=1%><a href='../../../../mod/gale.mod/multiscript.mod/multiscript.bmx' class=small>Source</a></td>
<td class=small>&nbsp;</td></tr></table>
<h1></h1>
<h2><a name=globals></a>Globals Summary</h2><table class=doc width=100%><tr><td colspan=2>
<a href=#GALE_MS>GALE_MS</a>
, 
<a href=#GALEMSJCR>GALEMSJCR</a>
</td></tr>
</table>
<h2><a name=functions></a>Functions Summary</h2><table class=doc width=100%>
<tr><td class=docleft width=1%><a href=#GALE_AddScript>GALE_AddScript</a></td><td class=docright>
Bind a script already loaded to tag.
</td></tr>
<tr><td class=docleft width=1%><a href=#GALE_GetScript>GALE_GetScript</a></td><td class=docright>
Returns the script data bound to a tag.
</td></tr>
<tr><td class=docleft width=1%><a href=#GALE_MapMSSavedVars>GALE_MapMSSavedVars</a></td><td class=docright>
Saved vars in a stringmap.
</td></tr>
<tr><td class=docleft width=1%><a href=#GALE_MS_Run>GALE_MS_Run</a></td><td class=docright>
Runs a script. Same as GALE_MS.Run(), but this function can be called easier as you can already split the function parameters in an array right away, making this function faster, from BlitzMax.
</td></tr>
<tr><td class=docleft width=1%><a href=#GALE_SaveMSVars>GALE_SaveMSVars</a></td><td class=docright>
Saves all saved vars into a JCR file.
</td></tr>
</table>
<h2><a name=types></a>Types Summary</h2><table class=doc width=100%>
<tr><td class=docleft width=1%><a href=#TScriptBase>TScriptBase</a></td><td class=docright>
This object is automatically tied to the variable GALE_MS and contains the same features the Lua script can call on.
</td></tr>
</table>
<h2
 id=globalsdet>Globals
</h2>
<table class=doc width=100% cellspacing=3 id=GALE_MS>
<tr><td class=doctop colspan=2>Global GALE_MS:TScriptBase</td></tr>
<tr><td class=docleft width=1%>Description</td><td class=docright>A variable which contains the ScriptMS object in the same manner your Lua scripts have it so you can code it the same way in BlitzMax as you script it in Lua.</td></tr>
</table>
<br>
<table class=doc width=100% cellspacing=3 id=GALEMSJCR>
<tr><td class=doctop colspan=2>Global GALEMSJCR:TJCRDir</td></tr>
<tr><td class=docleft width=1%>Description</td><td class=docright>Set the JCR file here or the Lua script loaders will not know where to look.</td></tr>
</table>
<br>
<h2
 id=functionsdet>Functions
</h2>
<table class=doc width=100% cellspacing=3 id=GALE_AddScript>
<tr><td class=doctop colspan=2>Function GALE_AddScript(Tag$,L:TLua)</td></tr>
<tr><td class=docleft width=1%>Description</td><td class=docright>Bind a script already loaded to tag.</td></tr>
</table>
<br>
<table class=doc width=100% cellspacing=3 id=GALE_GetScript>
<tr><td class=doctop colspan=2>Function GALE_GetScript:TLua(Tag$)</td></tr>
<tr><td class=docleft width=1%>Description</td><td class=docright>Returns the script data bound to a tag.</td></tr>
</table>
<br>
<table class=doc width=100% cellspacing=3 id=GALE_MapMSSavedVars>
<tr><td class=doctop colspan=2>Function GALE_MapMSSavedVars:StringMap()</td></tr>
<tr><td class=docleft width=1%>Description</td><td class=docright>Saved vars in a stringmap.</td></tr>
</table>
<br>
<table class=doc width=100% cellspacing=3 id=GALE_MS_Run>
<tr><td class=doctop colspan=2>Function GALE_MS_Run(Tag$,f$="main",pr$[]=Null)</td></tr>
<tr><td class=docleft width=1%>Description</td><td class=docright>Runs a script. Same as GALE_MS.Run(), but this function can be called easier as you can already split the function parameters in an array right away, making this function faster, from BlitzMax.</td></tr>
</table>
<br>
<table class=doc width=100% cellspacing=3 id=GALE_SaveMSVars>
<tr><td class=doctop colspan=2>Function GALE_SaveMSVars(BT:TJCRCreate,Storage$="Store",Prefix$="MS_Save/",UpdateFirst=1)</td></tr>
<tr><td class=docleft width=1%>Description</td><td class=docright>Saves all saved vars into a JCR file.</td></tr>
</table>
<br>
<h2
 id=typesdet>Types
</h2>
<table class=doc width=100% cellspacing=3 id=TScriptBase>
<tr><td class=doctop colspan=2>Type TScriptBase ' BLD: Object MS\nThis object contains the manager for the multiscripter</td></tr>
<tr><td class=docleft width=1%>Description</td><td class=docright>This object is automatically tied to the variable GALE_MS and contains the same features the Lua script can call on.</td></tr>
</table>
<table class=doc width=90% align=center><tr ><th class=doctop colspan=2 align=left><a name=TScriptBase_methods></a>Methods Summary</th></tr>
<tr><td class=docleft width=1%><a href=#ContainsScript>ContainsScript</a></td><td class=docright>
True is a script is found. False if not.
</td></tr>
<tr><td class=docleft width=1%><a href=#Destroy>Destroy</a></td><td class=docright>
Removes a scripts from the MS database. Variables marked as MS_SAVE in the .lsv file are automatically being updated. The GALE_OnUnload() function inside the script is being called on the moment the garbage collector picks this up. Please note that is pretty unstable and you can never tell when this will happen.
</td></tr>
<tr><td class=docleft width=1%><a href=#LN_Run>LN_Run</a></td><td class=docright>
Loads and runs a script, but only if the script has not been loaded before.
</td></tr>
<tr><td class=docleft width=1%><a href=#Load>Load</a></td><td class=docright>
Load a script to a tag.
</td></tr>
<tr><td class=docleft width=1%><a href=#LoadNew>LoadNew</a></td><td class=docright>
Loads a script only if no script is loaded to this tag.
</td></tr>
<tr><td class=docleft width=1%><a href=#Run>Run</a></td><td class=docright>
Runs a script. If the second parameter is not given, it will automatically run the function called "main". The 3rd parameter should contain the function paramters in one string separated by ";". Please note, this function only accepts strings, so if you send numbers be sure you convert them to numbers in your called function! From BlitzMax you may also want to use GALE_MS_Run in stead!
</td></tr>
<tr><td class=docleft width=1%><a href=#Update>Update</a></td><td class=docright>
Updates all saved variables marked as MS_SAVE. When calling Destroy this function is called automatically. Same will happen when you overwrite an existing script with Load. When you load a script for which these variables exist they are automatically loaded.
</td></tr>
</table>
<table class=doc width=100% cellspacing=3 id=ContainsScript>
<tr><td class=doctop colspan=2>Method ContainsScript(tag$) ' BLD: Returns 1 if a script is there on that entry, or false if there's not.</td></tr>
<tr><td class=docleft width=1%>Description</td><td class=docright>True is a script is found. False if not.</td></tr>
</table>
<table class=doc width=100% cellspacing=3 id=Destroy>
<tr><td class=doctop colspan=2>Method Destroy(Tag$) ' BLD: Removes a scripts from the MS database. Variables marked as MS_SAVE in the .lsv file are automatically being updated. The GALE_OnUnload() function inside the script is being called on the moment the garbage collector picks this up. Please note that is pretty unstable and you can never tell when this will happen.</td></tr>
<tr><td class=docleft width=1%>Description</td><td class=docright>Removes a scripts from the MS database. Variables marked as MS_SAVE in the .lsv file are automatically being updated. The GALE_OnUnload() function inside the script is being called on the moment the garbage collector picks this up. Please note that is pretty unstable and you can never tell when this will happen.</td></tr>
</table>
<table class=doc width=100% cellspacing=3 id=LN_Run>
<tr><td class=doctop colspan=2>Method LN_Run(Tag$,File$,f$="main",p$="") ' BLD: Loads and runs a script, but only if the script has not been loaded before. <p>I set this one up, in order to allow you to load the script on the moment they are first called. My Star Story game took great advantage of this possibility</td></tr>
<tr><td class=docleft width=1%>Description</td><td class=docright>Loads and runs a script, but only if the script has not been loaded before.</td></tr>
<tr><td class=docleft width=1%>Information</td><td class=docright>I set this one up, in order to allow you to load the script on the moment they are first called. My Star Story game took great advantage of this possibility.</td></tr>
</table>
<table class=doc width=100% cellspacing=3 id=Load>
<tr><td class=doctop colspan=2>Method Load(Tag$,File$) ' BLD: Load a script to a tag</td></tr>
<tr><td class=docleft width=1%>Description</td><td class=docright>Load a script to a tag.</td></tr>
</table>
<table class=doc width=100% cellspacing=3 id=LoadNew>
<tr><td class=doctop colspan=2>Method LoadNew(Tag$,File$) ' BLD: Loads a script only if no script is loaded to this tag.</td></tr>
<tr><td class=docleft width=1%>Description</td><td class=docright>Loads a script only if no script is loaded to this tag.</td></tr>
</table>
<table class=doc width=100% cellspacing=3 id=Run>
<tr><td class=doctop colspan=2>Method Run(Tag$,f$="main",p$="") ' BLD: Runs a script. If the second parameter is not given, it will automatically run the function called "main". The 3rd parameter should contain the function paramters in one string separated by ";". Please note, this function only accepts strings, so if you send numbers be sure you convert them to numbers in your called function!</td></tr>
<tr><td class=docleft width=1%>Description</td><td class=docright>Runs a script. If the second parameter is not given, it will automatically run the function called "main". The 3rd parameter should contain the function paramters in one string separated by ";". Please note, this function only accepts strings, so if you send numbers be sure you convert them to numbers in your called function! From BlitzMax you may also want to use GALE_MS_Run in stead!</td></tr>
</table>
<table class=doc width=100% cellspacing=3 id=Update>
<tr><td class=doctop colspan=2>Method Update(Tag$) ' BLD: Updates all saved variables marked as MS_SAVE. When calling Destroy this function is called automatically. Same will happen when you overwrite an existing script with Load. When you load a script for which these variables exist they are automatically loaded.</td></tr>
<tr><td class=docleft width=1%>Description</td><td class=docright>Updates all saved variables marked as MS_SAVE. When calling Destroy this function is called automatically. Same will happen when you overwrite an existing script with Load. When you load a script for which these variables exist they are automatically loaded.</td></tr>
</table>
<br>
<h2 id=modinfo>Module Information</h2>
<table width=100%>
<tr><th width=1%>Name</th><td>multiscript.mod</td></tr>
<tr><th width=1%>Creator</th><td>Tricky (Jeroen P. Broks)</td></tr>
<tr><th width=1%>Copyright</th><td>Jeroen P. Broks</td></tr>
<tr><th width=1%>License</th><td>Mozilla Public License 2.0</td></tr>
<tr><th width=1%>Version</th><td>15.07</td></tr>
<tr><th width=1%>Last update</th><td>Tue 28 July 2015; 00:19:49</td></tr>
<tr><th width=1%>Module History</th><td>Please check the file GALE_MultiScript.bmx for more detailed information on that!</td></tr>
</body></html>
