<html><head><title>Tricky_Teddybear.TeddyCore reference</title>
<link rel=stylesheet Type=text/css href='../../../../doc/bmxstyle.css'>
</head><body>
<table width=100% cellspacing=0><tr align=center><td class=small>&nbsp;</td>
<td class=small width=1%><b>Tricky_Teddybear.TeddyCore:</b></td>
<td class=small width=1%><a href=#globals class=small>Globals</a></td>
<td class=small width=1%><a href=#functions class=small>Functions</a></td>
<td class=small width=1%><a href=#types class=small>Types</a></td>
<td class=small width=1%><a href=#modinfo class=small>Modinfo</a></td>
<td class=small width=1%><a href='../../../../mod/tricky_teddybear.mod/teddycore.mod/teddycore.bmx' class=small>Source</a></td>
<td class=small>&nbsp;</td></tr></table>
<h1>Tricky_Teddybear.TeddyCore</h1>
<img src='Teddy.png' style='float:left'><h1>Teddy Bear</h1>
<p>
Teddybear is a simple 2D map tile engine. It comes in Three Modules. TeddyCore, TeddyDraw and TeddySave.
TeddyCore only contains the core and loader of TeddyBear, this module is handy when you don't need the drawer and saver, for example for when your game has it's own drawing routines.
TeddyDraw can draw all maps out. When importing this module, you don't need to import the core any more as this will happen automatically, however, it's no problem when you still do so ;)
TeddySave is for saving your levels. You only need this routine when you want to create your own level editor for teddybear.
<p>
The "official" TeddyBear editor utility has been licensed under the GNU General Public License. The three modules for BlitzMax have been licensed under the Mozilla Public License.
<p>
In short that means that only the editor may only be edited and distributed, blah-blah-blah under the terms of the GPL. The modules may be used in your own programs even in close-sourced commercial programs as long as the source of the modules themselves remain Open-Source. So your own code files don't have to be, only the TeddyBear files :)
<p>
<p>
<!--
<span style='color:red; font-size:20pt'><blink>IMPORTANT NOTE</blink></span>
NEVER import BOTH modules. Always either one or the other, otherwise you can (and most likely will) get system conflicts.
--><!-- This issue has been fixed -->
<p>
<p>Then to answer the question how Teddybear got its name, it's basically a pun to TEd.
The TEd level editor has been used to design the levels for many famous games, most notably the Commander Keen series,
Wolfenstein 3D and Rise of the Triad, but there are more games designed with it.
<p>
Requirements to compile:
<ol type=i>
<li>First of all BlitzMax http://www.blitzmax.com</li>
<li>The bah.volumes module for BlitzMax written by Bruce A. Henderson. This module can be found on the BlitzMax forums under the "Brucey's Modules" forum.</li>
<li>JCR6</li>
<li>GALE (for the editor. The modules do not require this).</li>
<li>And several of Tricky's modules which can be downloaded at: <a href='http://trickymods.tbbs.nl'>http://trickymods.tbbs.nl</a>. The "unstable" versions of JCR6 and GALE can also be found here</li>
<li>Recommended, though not required the version of BlitzMax for which I compiled my modules myself is v1.50 or higher.</li>
</ol>
<h2><a name=globals></a>Globals Summary</h2><table class=doc width=100%><tr><td colspan=2>
<a href=#TeddyLoadError>TeddyLoadError</a>
</td></tr>
</table>
<h2><a name=functions></a>Functions Summary</h2><table class=doc width=100%>
<tr><td class=docleft width=1%><a href=#LoadTeddyBear>LoadTeddyBear</a></td><td class=docright>
Loads a level written in Teddybear.
</td></tr>
</table>
<h2><a name=types></a>Types Summary</h2><table class=doc width=100%>
<tr><td class=docleft width=1%><a href=#TeddyBear>TeddyBear</a></td><td class=docright>
This object type is used to store your TeddyBear map information.
</td></tr>
<tr><td class=docleft width=1%><a href=#TeddyObject>TeddyObject</a></td><td class=docright>
Contains the data of a Teddy Bear object.
</td></tr>
</table>
<h2
 id=globalsdet>Globals
</h2>
<table class=doc width=100% cellspacing=3 id=TeddyLoadError>
<tr><td class=doctop colspan=2>Global TeddyLoadError:String</td></tr>
<tr><td class=docleft width=1%>Description</td><td class=docright>When loading a Teddybear level results into an error, the error is stored in this variable. When no errors occur the variable will contain the string 'Ok'</td></tr>
</table>
<br>
<h2
 id=functionsdet>Functions
</h2>
<table class=doc width=100% cellspacing=3 id=LoadTeddyBear>
<tr><td class=doctop colspan=2>Function LoadTeddyBear:TeddyBear(JCR:TJCRDir,MapName$)</td></tr>
<tr><td class=docleft width=1%>Description</td><td class=docright>Loads a level written in Teddybear.</td></tr>
<tr><td class=docleft width=1%>Information</td><td class=docright>You can only do this from a JCR map either made JCR_Dir. Furthermore, note that a Teddybear map contains a collection of files all stored in a folder with the name of the level. Always point to that path and Teddybear will automatically load the rest.
about:Any errors that occur during loading are stored in the variable TeddyLoadError.</td></tr>
</table>
<br>
<h2
 id=typesdet>Types
</h2>
<table class=doc width=100% cellspacing=3 id=TeddyBear>
<tr><td class=doctop colspan=2>Type TeddyBear ' BLD_: Object Teddybear\nCannot be called directly but some project using GALE (like the LAURA engine for example) have subobject to call this object. It contains all kinds of data about a Teddybear map.</td></tr>
<tr><td class=docleft width=1%>Description</td><td class=docright>This object type is used to store your TeddyBear map information.</td></tr>
</table>
<table class=doc width=90% align=center><tr ><th class=doctop colspan=2 align=left><a name=TeddyBear_fields></a>Fields Summary</th></tr><tr><td colspan=2>
<a href=#Texture>Texture</a>
</td></tr>
</table>
<table class=doc width=90% align=center><tr ><th class=doctop colspan=2 align=left><a name=TeddyBear_methods></a>Methods Summary</th></tr>
<tr><td class=docleft width=1%><a href=#Data>Data</a></td><td class=docright>
Returns or defines a 'data' field of the map.
</td></tr>
<tr><td class=docleft width=1%><a href=#Layer>Layer</a></td><td class=docright>
Returns a map tile layer.
</td></tr>
<tr><td class=docleft width=1%><a href=#ObjectList>ObjectList</a></td><td class=docright>
Returns a TList containing all objects tied to a certain tile in the map.
</td></tr>
<tr><td class=docleft width=1%><a href=#ObjectsHeight>ObjectsHeight</a></td><td class=docright>
Height of the object list array.
</td></tr>
<tr><td class=docleft width=1%><a href=#ObjectsWidth>ObjectsWidth</a></td><td class=docright>
Width of the object list array.
</td></tr>
<tr><td class=docleft width=1%><a href=#ResizeObjects>ResizeObjects</a></td><td class=docright>
This function will resize the size of the object field. (Default is 50x50)
</td></tr>
<tr><td class=docleft width=1%><a href=#ZName>ZName</a></td><td class=docright>
Returns an array with zone names for a zone layer.
</td></tr>
</table>
<table class=doc width=100% cellspacing=3 id=Texture>
<tr><td class=doctop colspan=2>Field Texture$[256]</td></tr>
<tr><td class=docleft width=1%>Description</td><td class=docright>An array containing all files names requested for textures.</td></tr>
<tr><td class=docleft width=1%>Information</td><td class=docright>These are not loaded by default unless you use the default drawing module.</td></tr>
</table>
<table class=doc width=100% cellspacing=3 id=Data>
<tr><td class=doctop colspan=2>Method Data:String(Fld$,D$="*** DO NOT DEFINE ***")</td></tr>
<tr><td class=docleft width=1%>Description</td><td class=docright>Returns or defines a 'data' field of the map.</td></tr>
<tr><td class=docleft width=1%>Information</td><td class=docright>What I had in mind for this field were some basic definitions, like, the title of the map as the players will see it on screen. The default background music, a standard ceiling or floor texture or color in a Wolfenstein 3D clone, that sort of thing.<br>When the DF$ parameter is set to "*** DO NOT DEFINE ***", as it's set when you don't enter a definition, you won't assign data to it, only read it.	 When it's set to any other value it will assign this value to this database field.</td></tr>
</table>
<table class=doc width=100% cellspacing=3 id=Layer>
<tr><td class=doctop colspan=2>Method Layer:TeddyLayer(ID$) ' BLD_: Contains a Teddybear layer. See the object Teddybear/Layer to see how.</td></tr>
<tr><td class=docleft width=1%>Description</td><td class=docright>Returns a map tile layer.</td></tr>
<tr><td class=docleft width=1%>Information</td><td class=docright>Will contain a field named F containing an 2D array containing the map stuff needed. Map.Layer("Walls").F[X,Y], that's the idea. You follow?<p>When a layer does not exit it will return NULL.</td></tr>
</table>
<table class=doc width=100% cellspacing=3 id=ObjectList>
<tr><td class=doctop colspan=2>Method ObjectList:TList(X,Y)</td></tr>
<tr><td class=docleft width=1%>Description</td><td class=docright>Returns a TList containing all objects tied to a certain tile in the map.</td></tr>
<tr><td class=docleft width=1%>Information</td><td class=docright>All entries in this TList are in the TeddyObject format.<p>Though a direct call to the Objects field variable is possible I recommend against it, as this function is meant for possible future functionality. Also, all lists are by default Null, this function will create a list upon the first call. Saves you a lot of trouble :)</td></tr>
</table>
<table class=doc width=100% cellspacing=3 id=ObjectsHeight>
<tr><td class=doctop colspan=2>Method ObjectsHeight()</td></tr>
<tr><td class=docleft width=1%>Description</td><td class=docright>Height of the object list array.</td></tr>
</table>
<table class=doc width=100% cellspacing=3 id=ObjectsWidth>
<tr><td class=doctop colspan=2>Method ObjectsWidth()</td></tr>
<tr><td class=docleft width=1%>Description</td><td class=docright>Width of the object list array.</td></tr>
</table>
<table class=doc width=100% cellspacing=3 id=ResizeObjects>
<tr><td class=doctop colspan=2>Method ResizeObjects(Width,Height,Conserve=False)</td></tr>
<tr><td class=docleft width=1%>Description</td><td class=docright>This function will resize the size of the object field. (Default is 50x50)</td></tr>
<tr><td class=docleft width=1%>Information</td><td class=docright>Please note that, unless the 'conserve' paramete is set, all object data will be destroyed. Furthermore it can never be guaranteed that any data is succesfully transferred. When making the object field smaller, all data outside the new bounderies will always be lost regardless of any setting.</td></tr>
</table>
<table class=doc width=100% cellspacing=3 id=ZName>
<tr><td class=doctop colspan=2>Method ZName:TeddyZoneName(ZoneLayer$)</td></tr>
<tr><td class=docleft width=1%>Description</td><td class=docright>Returns an array with zone names for a zone layer.</td></tr>
<tr><td class=docleft width=1%>Information</td><td class=docright>This function can be called combined with .Name with is a String[256] array. Like TeddyMap.ZName("Zone").Name[10], for example.<br>When you don't put in the "Zone_" prefix TeddyBear will do so automatically.<br>Don't even try to use this on other kinds of layers, even if you succeed the results might be undesirable.</td></tr>
</table>
<br>
<table class=doc width=100% cellspacing=3 id=TeddyObject>
<tr><td class=doctop colspan=2>Type TeddyObject</td></tr>
<tr><td class=docleft width=1%>Description</td><td class=docright>Contains the data of a Teddy Bear object.</td></tr>
</table>
<table class=doc width=90% align=center><tr ><th class=doctop colspan=2 align=left><a name=TeddyObject_fields></a>Fields Summary</th></tr><tr><td colspan=2>
<a href=#ObjType>ObjType</a>
</td></tr>
</table>
<table class=doc width=90% align=center><tr ><th class=doctop colspan=2 align=left><a name=TeddyObject_methods></a>Methods Summary</th></tr>
<tr><td class=docleft width=1%><a href=#Cl>Cl</a></td><td class=docright>
Returns a database field of an object.
</td></tr>
<tr><td class=docleft width=1%><a href=#ClI>ClI</a></td><td class=docright>
Returns a database field of an object as an integer (if not possible to convert into an integer 0 will be returned)
</td></tr>
<tr><td class=docleft width=1%><a href=#Df>Df</a></td><td class=docright>
Defines a database field of an object.
</td></tr>
<tr><td class=docleft width=1%><a href=#Ex>Ex</a></td><td class=docright>
True if a field exists, otherwise false.
</td></tr>
</table>
<table class=doc width=100% cellspacing=3 id=ObjType>
<tr><td class=doctop colspan=2>Field ObjType$</td></tr>
<tr><td class=docleft width=1%>Description</td><td class=docright>Contains a string with the type of object.</td></tr>
</table>
<table class=doc width=100% cellspacing=3 id=Cl>
<tr><td class=doctop colspan=2>Method Cl$(F$)</td></tr>
<tr><td class=docleft width=1%>Description</td><td class=docright>Returns a database field of an object.</td></tr>
</table>
<table class=doc width=100% cellspacing=3 id=ClI>
<tr><td class=doctop colspan=2>Method ClI(F$)</td></tr>
<tr><td class=docleft width=1%>Description</td><td class=docright>Returns a database field of an object as an integer (if not possible to convert into an integer 0 will be returned)</td></tr>
</table>
<table class=doc width=100% cellspacing=3 id=Df>
<tr><td class=doctop colspan=2>Method Df(F$,V$)</td></tr>
<tr><td class=docleft width=1%>Description</td><td class=docright>Defines a database field of an object.</td></tr>
</table>
<table class=doc width=100% cellspacing=3 id=Ex>
<tr><td class=doctop colspan=2>Method Ex(F$)</td></tr>
<tr><td class=docleft width=1%>Description</td><td class=docright>True if a field exists, otherwise false.</td></tr>
</table>
<br>
<h2 id=modinfo>Module Information</h2>
<table width=100%>
<tr><th width=1%>Module</th><td>Tricky_Teddybear.TeddyCore</td></tr>
<tr><th width=1%>Written by</th><td>Jeroen Petrus Broks</td></tr>
<tr><th width=1%>Version</th><td>15.07.29</td></tr>
<tr><th width=1%>Copyright</th><td>(c) Copyright Jeroen Petrus Broks, 2012-2015</td></tr>
<tr><th width=1%>License</th><td>Mozilla Public License</td></tr>
</body></html>
